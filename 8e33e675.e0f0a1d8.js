(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{123:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/dynamic-template-b3d5482e73246cce4b1bd9012cf6aa82.gif"},74:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return b})),a.d(t,"metadata",(function(){return c})),a.d(t,"toc",(function(){return o})),a.d(t,"default",(function(){return p}));var n=a(3),l=a(7),r=(a(0),a(87)),i=["components"],b={id:"recipes",title:"Recipes"},c={unversionedId:"recipes",id:"recipes",isDocsHomePage:!1,title:"Recipes",description:"This page lists some useful snippets that you can use in your templates.",source:"@site/docs/recipes.md",slug:"/recipes",permalink:"/grafana-dynamictext-panel/recipes",editUrl:"https://github.com/marcusolsson/grafana-dynamictext-panel/edit/main/website/docs/recipes.md",version:"current",sidebar:"someSidebar",previous:{title:"Helpers",permalink:"/grafana-dynamictext-panel/helpers"}},o=[{value:"Markdown list from variable",id:"markdown-list-from-variable",children:[]},{value:"Conditional content",id:"conditional-content",children:[]},{value:"Render HTML from data",id:"render-html-from-data",children:[]},{value:"Dynamic templates using dashboard variables",id:"dynamic-templates-using-dashboard-variables",children:[]},{value:"Render a single template",id:"render-a-single-template",children:[]}],s={toc:o};function p(e){var t=e.components,b=Object(l.a)(e,i);return Object(r.b)("wrapper",Object(n.a)({},s,b,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"This page lists some useful snippets that you can use in your templates."),Object(r.b)("h2",{id:"markdown-list-from-variable"},"Markdown list from variable"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-md"},'{{#each (variable "hostname")}}\n- {{this}}\n{{/each}}\n')),Object(r.b)("h2",{id:"conditional-content"},"Conditional content"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-md"},'{{#if app "auth"}}\nThis is the auth app.\n{{/if}}\n')),Object(r.b)("h2",{id:"render-html-from-data"},"Render HTML from data"),Object(r.b)("p",null,"If you'd like to render HTML returned by the data source, you need to use three-brace expressions, ",Object(r.b)("inlineCode",{parentName:"p"},"{{{htmlValue}}}"),", otherwise Handlebars escapes the HTML content."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-md"},"<ul>\n{{{htmlValue}}}\n</ul>\n")),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"htmlValue")," is ",Object(r.b)("inlineCode",{parentName:"p"},"<li>foo</li><li>bar</li>"),"."),Object(r.b)("h2",{id:"dynamic-templates-using-dashboard-variables"},"Dynamic templates using dashboard variables"),Object(r.b)("p",null,"Use the ",Object(r.b)("inlineCode",{parentName:"p"},"lookup")," helper function to create dynamic templates based on dashboard variables."),Object(r.b)("p",null,"The following template creates a key-value pair from every selected value in the ",Object(r.b)("inlineCode",{parentName:"p"},"myvar")," dashboard variable."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},'```yml\nbook:\n{{#each (variable "props")}}\n  {{this}}: {{lookup @root this}}\n{{/each}}\n```\n')),Object(r.b)("p",null,"For example, for the following query result:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"title"),Object(r.b)("th",{parentName:"tr",align:null},"author"),Object(r.b)("th",{parentName:"tr",align:null},"year"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"Dune"),Object(r.b)("td",{parentName:"tr",align:null},"Frank Herbert"),Object(r.b)("td",{parentName:"tr",align:null},"1965")))),Object(r.b)("p",null,"you'll end up with something like this:"),Object(r.b)("p",null,Object(r.b)("img",{alt:"Dynamic template",src:a(123).default})),Object(r.b)("h2",{id:"render-a-single-template"},"Render a single template"),Object(r.b)("p",null,"For the following query result:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null},"title"),Object(r.b)("th",{parentName:"tr",align:null},"author"),Object(r.b)("th",{parentName:"tr",align:null},"year"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"Dune"),Object(r.b)("td",{parentName:"tr",align:null},"Frank Herbert"),Object(r.b)("td",{parentName:"tr",align:null},"1965")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},"1984"),Object(r.b)("td",{parentName:"tr",align:null},"George Orwell"),Object(r.b)("td",{parentName:"tr",align:null},"1949")))),Object(r.b)("p",null,"Given that the ",Object(r.b)("strong",{parentName:"p"},"EveryRow")," switch is turned off, the following template renders a table from the query result:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-md"},"| Title | Author | Year |\n|-------|--------|------|\n{{#each data}}\n| {{title}} | {{author}} | {{year}} |\n{{/each}}\n")))}p.isMDXComponent=!0}}]);